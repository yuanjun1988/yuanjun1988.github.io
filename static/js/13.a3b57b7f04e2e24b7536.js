webpackJsonp([13],{"431J":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gyMJ"),i=a("mHYM"),s={data:function(){return{formLabelAlign:{time:"1111111",hy:"",logo:"",weekend:"",mun:"",financing:"",adress:"",adressdetail:"",content:"",website:""},dynamicTags:[],inputVisible:!1,inputValue:" ",weekend:[],enterpriseScale:[],enterpriseType:[],financing:[],companyData:"",companyInfo:i.a.sessiongetItem("companyInfo",1),optionCityProps:{value:"id",label:"name",children:"children"},cityOptions:[],cityInfo:{},munName:"请选择",startTimeName:"",endTimeName:"",adressName:"请选择"}},created:function(){this.getCompanyInfo(),this.getAllCity(),this.getCompanyPartInfo()},methods:{getAllCity:function(){var e=this;Object(n.i)({}).then(function(t){e.cityOptions=t.datas||[]})},handleChange:function(e){var t=this.$refs.cascaderAddr.getCheckedNodes()[0].pathLabels;this.cityInfo={provinceid:e[0],provinceName:t[0],cityid:e[1],cityBody:t[1],threeCityid:e[2],threeCityBody:t[2]}},handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue,t={name:e};e&&this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue=""},getCompanyPartInfo:function(){var e=this,t={id:this.companyInfo.comId};Object(n.m)(t).then(function(t){if(0==t.resp_code){var a=t.datas;e.companyData=a,e.formLabelAlign.mun=a.munBody,a.provinceBody&&(e.adressName=a.provinceBody+"/"+a.cityBody+"/"+a.threeCityBody),e.formLabelAlign.adressdetail=a.address,e.formLabelAlign.hy=a.prBody,e.formLabelAlign.weekend=a.weekend,e.formLabelAlign.content=a.content,e.formLabelAlign.website=a.website,e.formLabelAlign.logo=a.logo,e.dynamicTags=a.welfare||[]}})},getCompanyInfo:function(){var e=this;Object(n.k)({}).then(function(t){var a=t.datas;e.weekend=a.weekend,e.enterpriseScale=a.enterpriseScale,e.enterpriseType=a.enterpriseType,e.financing=a.financing})},saveCompanyInfo:function(){var e=this,t=this.formLabelAlign,a={weekendBody:t.weekend||this.companyData.weekend,timeTable:this.startTimeName+"-"+this.endTimeName||this.companyData.timeTable,munBody:t.mun||this.companyData.munBody,financingBody:t.financing,prBody:t.hy||this.companyData.prBody,welfare:this.dynamicTags||this.companyData.welfare,content:t.content||this.companyData.content,website:t.website||this.companyData.website,cityid:this.cityInfo.cityid,cityBody:this.cityInfo.cityBody||this.companyData.cityBody,threeCityBody:this.cityInfo.threeCityBody||this.companyData.threeCityBody,threeCityid:this.cityInfo.threeCityid,provinceid:this.cityInfo.provinceid,provinceBody:this.cityInfo.provinceName||this.companyData.provinceBody,address:this.formLabelAlign.adressdetail};Object(n.z)(a,this.companyInfo.userId).then(function(t){0==t.resp_code?(e.$message({message:"企业信息保存成功",type:"success"}),e.$router.push({path:"/company/companypage"})):e.$message({message:t.resp_msg,type:"warning"})}).catch(function(t){e.$message({message:t,type:"error"})})}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"posiiton_tab"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/company/companypage"}}},[e._v("企业管理")]),e._v(" "),n("el-breadcrumb-item",[e._v("信息编辑")])],1)],1),e._v(" "),n("div",{staticClass:"main_item"},[n("div",{staticClass:"top_left"},[n("div",{staticClass:"company_header_img"},[e.companyData.logo?n("img",{attrs:{src:e.photoFilter(e.companyData.logo,80,80),alt:""}}):n("img",{attrs:{src:a("Qn29"),alt:""}})]),e._v(" "),n("div",[n("div",{staticClass:"company_name"},[n("span",[e._v(e._s(e.companyData.name))])]),e._v(" "),n("div",{staticClass:"company_item"},[n("span",[e._v(e._s(e.companyData.prBody))]),e._v(" "),e.companyData.prBody?n("span",[e._v("丨")]):e._e(),e._v(" "),n("span",[e._v(e._s(e.companyData.industry))]),e._v(" "),e.companyData.munBody?n("span",[e._v("丨")]):e._e(),e._v(" "),n("span",[e._v(e._s(e.companyData.munBody))])])])]),e._v(" "),n("el-form",{staticClass:"el-form",attrs:{"label-width":"170px",model:e.formLabelAlign}},[n("el-form-item",{attrs:{required:"",label:"上班时间："}},[n("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"00:00",step:"00:15",end:"23:59"}},model:{value:e.startTimeName,callback:function(t){e.startTimeName=t},expression:"startTimeName"}}),e._v(" "),n("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:15",end:"23:59"}},model:{value:e.endTimeName,callback:function(t){e.endTimeName=t},expression:"endTimeName"}})],1),e._v(" "),n("el-form-item",{attrs:{required:"",label:"假期："}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.weekend,callback:function(t){e.$set(e.formLabelAlign,"weekend",t)},expression:"formLabelAlign.weekend"}},e._l(e.weekend,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{required:"",label:"企业性质："}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.hy,callback:function(t){e.$set(e.formLabelAlign,"hy",t)},expression:"formLabelAlign.hy"}},e._l(e.enterpriseType,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"企业规模："}},[n("el-select",{attrs:{placeholder:e.munName},model:{value:e.formLabelAlign.mun,callback:function(t){e.$set(e.formLabelAlign,"mun",t)},expression:"formLabelAlign.mun"}},e._l(e.enterpriseScale,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"融资状况："}},[n("el-select",{attrs:{placeholder:"无限制"},model:{value:e.formLabelAlign.financing,callback:function(t){e.$set(e.formLabelAlign,"financing",t)},expression:"formLabelAlign.financing"}},e._l(e.financing,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),n("div",{staticClass:"skill_item"},[n("div",{staticClass:"skill_title"},[n("span",[e._v("企业福利：")]),e._v(" "),n("span",[e._v("选择技能标签（0/10）")])]),e._v(" "),n("div",{staticClass:"skill_tab"},[e._l(e.dynamicTags,function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v("\n                    "+e._s(t.name)+"\n                    ")])}),e._v(" "),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 自定义")])],2)]),e._v(" "),n("el-form-item",{attrs:{label:"企业介绍："}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"100","show-word-limit":"",rows:"8"},model:{value:e.formLabelAlign.content,callback:function(t){e.$set(e.formLabelAlign,"content",t)},expression:"formLabelAlign.content"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"企业地址："}},[n("el-cascader",{ref:"cascaderAddr",attrs:{options:e.cityOptions,props:e.optionCityProps,placeholder:e.adressName,emitPath:""},on:{change:e.handleChange},model:{value:e.formLabelAlign.adress,callback:function(t){e.$set(e.formLabelAlign,"adress",t)},expression:"formLabelAlign.adress"}})],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"填写详细地址：如单元门牌号"},model:{value:e.formLabelAlign.adressdetail,callback:function(t){e.$set(e.formLabelAlign,"adressdetail",t)},expression:"formLabelAlign.adressdetail"}})],1),e._v(" "),n("el-form-item",{attrs:{required:"",label:"公司官网："}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formLabelAlign.website,callback:function(t){e.$set(e.formLabelAlign,"website",t)},expression:"formLabelAlign.website"}})],1)],1),e._v(" "),n("div",{staticClass:"bottom_item"},[n("el-button",{staticClass:"update_btn update_cancel_btn",attrs:{"el-button":""},on:{click:e.CompanyCertification}},[e._v("取消")]),e._v(" "),n("el-button",{staticClass:"update_btn update_save_btn",attrs:{"el-button":""},on:{click:e.saveCompanyInfo}},[e._v("保存")])],1)],1)])},staticRenderFns:[]};var o=a("C7Lr")(s,l,!1,function(e){a("rmuP")},"data-v-528f3280",null);t.default=o.exports},rmuP:function(e,t){}});